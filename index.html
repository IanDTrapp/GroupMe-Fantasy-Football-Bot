<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>ESPN Fantasy Football Reporter for GroupMe by IanDTrapp</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>ESPN Fantasy Football Reporter for GroupMe</h1>
        <h2>A bot to report matchups, projections, and scores to GroupMe chats</h2>
        <a href="https://github.com/IanDTrapp/GroupMe-Fantasy-Football-Bot" class="button"><small>View project on</small> GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h3>
<a id="what-do-i-need-to-set-this-up" class="anchor" href="#what-do-i-need-to-set-this-up" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>What do I need to set this up?</h3>

<p>Simply a computer, GroupMe account, and a Google account. The way this works is a Google Spreadsheet scrapes information from ESPN's public league homepage and a Google Script takes that information and forwards it to GroupMe. Unfortunately since I don't know how your league is set up, it may require some slight script edits on your part but I'm happy to answer any questions to help get it working for you. </p>

<h3>
<a id="step-1---set-up-your-spreadsheet" class="anchor" href="#step-1---set-up-your-spreadsheet" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 1 - Set up your spreadsheet</h3>

<p>The formula <code>=IMPORTHTML("YOUR_PUBLIC_LEAGUE_HOMEPAGE_URL_HERE","table",3)</code>, for example, will take the information from the third table on your league homepage and put it in to the spreadsheet. The scoreboards are present on tables 3, 5, 7, 9, and 11 for a 10 man league with 5 games at a time. So in the following cells, paste the following formulas:</p>

<ul>
<li>A1: <code>=IMPORTHTML("YOUR_PUBLIC_LEAGUE_HOMEPAGE_URL_HERE","table",3)</code>
</li>
<li>A4: <code>=IMPORTHTML("YOUR_PUBLIC_LEAGUE_HOMEPAGE_URL_HERE","table",5)</code> </li>
<li>A7: <code>=IMPORTHTML("YOUR_PUBLIC_LEAGUE_HOMEPAGE_URL_HERE","table",7)</code>
</li>
<li>A10: <code>=IMPORTHTML("YOUR_PUBLIC_LEAGUE_HOMEPAGE_URL_HERE","table",9)</code>
</li>
<li>A13: <code>=IMPORTHTML("YOUR_PUBLIC_LEAGUE_HOMEPAGE_URL_HERE","table",11)</code>
</li>
</ul>

<p>And continue on that pattern for as many games as you have. If you have an 8 man league, you wont need that last one.</p>

<p>After that, you'll want to set up your detail statistics information next to each game box. The formula
<code>=IMPORTHTML("YOUR_PUBLIC_LEAGUE_HOMEPAGE_URL_HERE","table",4)</code> takes the first game's detail information box containing yet to play, in play, etc.</p>

<p>In the following cells, put the following formulas:</p>

<ul>
<li>C1: <code>=IMPORTHTML("YOUR_PUBLIC_LEAGUE_HOMEPAGE_URL_HERE","table",4)</code>
</li>
<li>C4: <code>=IMPORTHTML("YOUR_PUBLIC_LEAGUE_HOMEPAGE_URL_HERE","table",6)</code>
</li>
<li>C7: <code>=IMPORTHTML("YOUR_PUBLIC_LEAGUE_HOMEPAGE_URL_HERE","table",8)</code>
</li>
<li>C10: <code>=IMPORTHTML("YOUR_PUBLIC_LEAGUE_HOMEPAGE_URL_HERE","table",10)</code>
</li>
<li>C13: <code>=IMPORTHTML("YOUR_PUBLIC_LEAGUE_HOMEPAGE_URL_HERE","table",12)</code>
</li>
</ul>

<p>This is all the information you'll need for getting scores and matchups. </p>

<h3>
<a id="step-2---create-a-copy-of-the-code-for-yourself" class="anchor" href="#step-2---create-a-copy-of-the-code-for-yourself" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 2 - Create a copy of the code for yourself</h3>

<p><a href="https://script.google.com/d/1hxfz230Hjn8mtcUnel84y-RHDhlOHkkICo-DcG7FWMRNUBuDHzvegzDJ/edit?usp=sharing">View the code here</a>, click on "File" and "Make a copy". That copy will be yours to do with and edit as you please. We will work more with that later.</p>

<h3>
<a id="step-3---setting-up-the-bot" class="anchor" href="#step-3---setting-up-the-bot" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Step 3 - Setting up the bot</h3>

<p>Next, go to <a href="https://dev.groupme.com/session/new">https://dev.groupme.com/session/new</a> and log in. Click on bots, and then create bot.</p>

<p>Choose your fantasy football chat name, a give the bot a name and (optional) an avatar. We will come back and add the Callback URL.</p>

<p>Once you hit create, copy the bot ID from the next screen, and paste it in to the Google Script where it says "YOUR_BOT_ID_HERE" (parseInput.gs, Line 1). While you're there, change the variables for NUMBER_OF_MATCHUPS_PER_WEEK and NUMBER_OF_PLAYERS_IN_LEAGUE to the correct values for your league. </p>

<p>After that, click "Publish", and set your settings the same way these are set.</p>

<p>Make sure you execute the app as yourself, and make sure Anyone, even anonymous has access to the app. Accept the permissions, and copy the "Current web app URL" from the next screen.</p>

<p>Once you have that URL, go back to your bot and paste that URL in as the callback URL. Once you hit okay, your bot should be good to go. You can test it by going to getScores.gs and hitting the "run button", and making sure the info is correct. </p>

<p>If you are having any issues with the bot, feel free to contact me at <a href="mailto:floppy454@gmail.com">floppy454@gmail.com</a>.</p>

<h3>
<a id="calling-the-bot" class="anchor" href="#calling-the-bot" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Calling the bot</h3>

<p>If you are in the chat and you type <code>!scores</code>, the bot will post the current scores. If you type <code>!matchups</code> it will post the current matchups.</p>

<h3>
<a id="triggers" class="anchor" href="#triggers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Triggers</h3>

<p>If you go to "Resources" and then to "Current project triggers", you can set up certain functions to run at certain times. For example, my league has <code>getMatchups()</code> run every Thursday at 5pm before Monday Night Football starts. I also have <code>getScores()</code> run Thursday at midnight, Sunday at 4, 8, midnight, Monday at midnight, and Tuesday at 10am.</p>

<p>You can set these to run as frequently or as infrequently as you would like.</p>

<h3>
<a id="subscribe-for-new-feature-alerts" class="anchor" href="#subscribe-for-new-feature-alerts" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Subscribe for new feature alerts</h3>

<p>At the moment, I am testing and adding more features. If you want to be alerted when new features are released, feel free to add your email to my mailing list here:</p>

<p><a href="https://goo.gl/forms/RacS74FOF3l48Kn23">Add your email</a></p>

<h3>
<a id="features-coming-soon" class="anchor" href="#features-coming-soon" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features coming soon</h3>

<p>In the works (will be implemented after my personal league's draft Monday):</p>

<ul>
<li>Transaction reports</li>
<li>Waiver wire claims</li>
<li>Inactive player reports</li>
</ul>

<h3>
<a id="about" class="anchor" href="#about" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>About</h3>

<p>Written and maintained by Ian Trapp - <a href="mailto:floppy454@gmail.com">floppy454@gmail.com</a> for questions</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/IanDTrapp/GroupMe-Fantasy-Football-Bot/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/IanDTrapp/GroupMe-Fantasy-Football-Bot/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/IanDTrapp/GroupMe-Fantasy-Football-Bot"></a> is maintained by <a href="https://github.com/IanDTrapp">IanDTrapp</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>
